    post:
      tags:
        - Basic Write
      description: |
        # Create Operations

      operationId: millenniumR4BasicCreate
      consumes:
      - application/fhir+json
      produces:
      - application/fhir+json
      parameters: 
        - name: createBody
          in: body
          required: true
          schema:
            $ref: "#/definitions/CreateBody"
      responses: 
        '200':
          description: |
            **OK**
          headers:
            X-Request-Id:
              type: string
              description: Oracle troubleshooting identifier.
            opc-request-id:
              type: string
              description: Oracle troubleshooting identifier.
            ETag:
              type: string
              description: The identifier for a specific version of a resource. This will be formatted as `W/"<etag_value>"` and is used to specify the `If-Match` header value on subsequent updates.
            Location:
              type: string
              description: |
                The URL location of the created entity.
                
                Example: `https://fhir-ehr-code.cerner.com/r4/ec2458f2-1e24-41c8-b71b-0e701af7583d/Basic/642774`
        default:
          $ref: '#/responses/OperationOutcome'

definitions:
  CreateBody:
    type: object
    required:
    - resourceType
    - identifier
    - code
    - FinancialTransaction Type Extension
    - FinancialTransaction Alias Extension
    - FinancialTransaction Method Extension
    - FinancialTransaction Card Brand Extension
    - FinancialTransaction Account Number Extension
    - FinancialTransaction Date Extension
    - FinancialTransaction Tendered Amount Extension
    - FinancialTransaction Amount Extension
    - FinancialTransaction Allocation Extension
    - FinancialTransaction Allocation Target Extension
    - FinancialTransaction Allocation Amount Extension
    properties:
      resourceType:
        description: |
          The type of the FHIR resource.
        type: string
        enum:
        - Basic
      identifier:
        description: |
          Identifier assigned to the resource for business purposes.
          
          _Notes_
          <ul>
             <li>At least one external transaction identifier must be provided.</li>
             <li>The identifier can contain alphanumeric value and no special characters.</li>
             <li>The length of the identifier can't exceed 250 character.</li>
          </ul>
          
          
          _Examples_
          
          ````json
          {
            "identifier": [
              {
                "value": "33358000",
                "use": "usual"
              }
            ]
          }
          
          ````
          
        type: [Identifier]
      code:
        description: |
          Identifies the 'type' of resource - equivalent to the resource name for other resources.
          
          _Notes_
          This will always be FinancialTransaction
          
          _Examples_
          
          ````json
          "code": {
            "coding": [
              {
                "code": "FinancialTransaction"
              }
            ]
          }
          
          ````
          
        type: object
        properties:
          text:
            type: string
          coding:
            type: array
            items:
              type: object
              properties:
                system:
                  type: string
                code:
                  type: string
      FinancialTransaction Type Extension:
        description: |
          Category of transaction, whether this is a payment or adjustment.
          
          _Notes_
          Will only accept payment or adjustment.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-type",
            "valueCodeableConcept": {
              "coding": [
                {
                  "code": "payment",
                  "system": "http://terminology.hl7.org/CodeSystem/payment-type"
                }
              ]
            }
          }
          
          ````
          
        type: object
        properties:
          text:
            type: string
          coding:
            type: array
            items:
              type: object
              properties:
                system:
                  type: string
                code:
                  type: string
      FinancialTransaction Alias Extension:
        description: |
          The aliases used to create the FinancialTransaction resources.
          
          _Notes_
          A value that correlates to a client defined name which represents the combination of the type, subtype, and reason describing the FinancialTransaction. The alias determines the credit or debit impact on the accounts receivable. A valid alias from the tenant is required to create a FinancialTransaction resource.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-alias",
            "valueString": "0111"
          }
          
          ````
          
        type: string
      FinancialTransaction Location Extension:
        description: |
          The location where the payment was collected.
          
          _Notes_
          These are client configured location values.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-location",
            "valueString": "98920358"
          }
          
          ````
          
        type: string
      FinancialTransaction Method Extension:
        description: |
          The method of payment.
          
          _Notes_
          Required on payment transactions. Not required otherwise. Payment methods of Cash, Credit Card, Check, Cashier’s Check and Traveler’s Check will be supported for FinancialTransaction creates.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-method",
            "valueCodeableConcept": {
              "coding": [
                {
                  "code": "CHCK",
                  "display": "Check",
                  "system": "http://terminology.hl7.org/CodeSystem/v2-0570"
                }
              ],
              "text": "Check"
            }
          }
          
          ````
          
        type: object
        properties:
          text:
            type: string
          coding:
            type: array
            items:
              type: object
              properties:
                system:
                  type: string
                code:
                  type: string
      FinancialTransaction Card Brand Extension:
        description: |
          The brand of credit card used for the transaction.
          
          _Notes_
          Required on payment transactions when method is Credit Card. Not required otherwise. Acceptable values are "VISA", "MASTER", "AMEX", "DISCOVER".
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-card-brand",
            "valueString": "VISA"
          }
          
          ````
          
        type: string
      FinancialTransaction Account Number Extension:
        description: |
          The last four digits of the credit card or the check number used for the transaction.
          
          _Notes_
          Required on payment transactions when method is Credit Card, Check, Cashier's Check, Traveler's Check and Money Order. Not required otherwise. Value must be numeric.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-account-number",
            "valueString": "1234"
          }
          
          ````
          
        type: string
      FinancialTransaction Date Extension:
        description: |
          Expiration date if method is credit card, check date if method is check.
          
          _Notes_
          Required on payment transactions when method is Credit Card, Check, Cashier's Check and Traveler's Check. Not required otherwise.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-date",
            "valueDate": "2020-02-01"
          }
          
          ````
          
        type: string
      FinancialTransaction Tendered Amount Extension:
        description: |
          Tendered amount of the cash payment.
          
          _Notes_
          Required on payment transactions when method is Cash. Not required otherwise. Must be greater than or equal to the value of the amount.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-tendered-amount",
            "valueMoney": {
              "value": 123.45,
              "currency": "USD"
            }
          }
          
          ````
          
        type: string
      FinancialTransaction Amount Extension:
        description: |
          The total amount of the payment/adjustment resource.
          
          _Notes_
          Must equal the sum of all amounts in the <code>financial-transaction-allocation</code> extension.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-amount",
            "valueMoney": {
              "value": 123.45,
              "currency": "USD"
            }
          }
          
          ````
          
        type: string
      FinancialTransaction Allocation Extension:
        description: |
          How the FinancialTransaction should be applied. This extension is a nested extension.
          
          _Notes_
          Only one allocation element will be used when creating the resource.
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/financial-transaction-allocation",
            "extension": [
              {
                "url": "target",
                "valueReference": {
                  "reference": "Encounter/97953536"
                }
              },
              {
                "url": "amount",
                "valueMoney": {
                  "value": 400.00,
                  "currency": "USD"
                }
              }
            ]
          }
          
          ````
          
        type: object
        description: See the StructureDefinition of this extension for further formatting details.
        properties:
          url:
            type: string
      FinancialTransaction Allocation Target Extension:
        description: |
          The specific target that the payment or adjustment should be posted to. This extension is nested under a <code>financial-transaction-allocation</code> extension.
          
          _Notes_
          <ul>
            <li>The <code>valueReference.reference</code> must be either an Encounter or Account reference.</li>
            <li>If the reference is of type Account, it must be a <code>guarantor-balance</code> account type.</li>
            <li>The URL for this extension is <code>target</code>.</li>
          </ul>
          
          
          _Examples_
          
          ````json
          {
            "url": "target",
            "valueReference": {
              "reference": "Encounter/97953536"
            }
          }
          
          ````
          
        type: object
        description: See the StructureDefinition of this extension for further formatting details.
        properties:
          url:
            type: string
      FinancialTransaction Allocation Amount Extension:
        description: |
          The total amount of the payment/adjustment resource. This extension is nested under a <code>financial-transaction-allocation</code> extension.
          
          _Notes_
          Must equal the sum of all amounts in the <code>financial-transaction-allocation</code> extension.
          
          _Examples_
          
          ````json
          {
            "url": "amount",
            "valueMoney": {
              "value": 123.45,
              "currency": "USD"
            }
          }
          
          ````
          
        type: string
      Apply First In First Out Extension:
        description: |
          Whether to apply FIFO logic for recurring encounters or not.
          
          _Notes_
          <ul>
            <li>The default boolean value is 'true'.</li>
            <li>When the value is 'true' the system posts the payment across existing financial activity with any outstanding balances using FIFO logic. If there is no existing financial activity, the system creates a new financial activity for the current month and posts the payment to the new financial activity. If there is an existing financial activity with no outstanding balance, the system will post the payment to the latest month's financial activity.</li>
            <li>When the value is 'false' the system posts the payment to the current month's financial activity given it exists. If there is no existing financial activity, the system creates a new financial activity for the current month and posts the payment.</li>
            <li>Only supported for the Payment Transaction Type with target as Encounter</li>
            <li>Only supported for recurring encounters and not other types of encounters like inpatient, outpatient, etc.</li>
          </ul>
          
          
          _Examples_
          
          ````json
          {
            "url": "https://fhir-ehr.cerner.com/r4/StructureDefinition/apply-first-in-first-out",
            "valueBoolean": true
          }
          
          ````
          
        type: boolean